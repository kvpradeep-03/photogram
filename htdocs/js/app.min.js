var $grid=$("#masonry-area").masonry({percentPosition:!0});$grid.imagesLoaded().progress(function(){$grid.masonry("layout")}),$(document).on("click",".album .btn-like",function(){post_id=$(this).parent().attr("data-id"),$this=$(this),"Like"==$(this).html()?$(this).html("Liked"):$(this).html("Like"),$(this).hasClass("btn-outline-primary")?$(this).removeClass("btn-outline-primary").addClass("btn-primary"):$(this).removeClass("btn-primary").addClass("btn-outline-primary"),console.log(post_id),$.post("/api/posts/like",{id:post_id},function(t,s,o){console.log("like"),console.log(s),console.log(t),"success"==s&&(t.liked?($($this).html("Liked"),$($this).removeClass("btn-outline-primary").addClass("btn-primary")):($($this).html("Like"),$($this).removeClass("btn-primary").addClass("btn-outline-primary")))})}),$(document).on("click",".btn-delete",function(){var e=$(this).parent().attr("data-id");(d=new Dialog("Delete Post","Are you sure want to remove this post")).setButtons([{name:"Delete",class:"btn-danger",onClick:function(t){console.log(`Assume this post ${e} is deleted`),$.post("/api/posts/delete",{id:e},function(t,s,o){"success"==s&&($("#post-"+e).remove(),setTimeout(function(){location.reload()},200))}),$(t.data.modal).modal("hide")}},{name:"Cancel",class:"btn-secondary",onClick:function(t){$(t.data.modal).modal("hide")}}]),d.show()}),$("#liveToastBtn").click(function(){var t=$("#liveToast").get(0);new bootstrap.Toast(t,{delay:3e3}).show()});